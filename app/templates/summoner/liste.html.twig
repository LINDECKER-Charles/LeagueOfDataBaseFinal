{# templates/summoner/liste.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Summoners - {{client.session.version ?? (client.versions|first) }}{% endblock %}

{% block body %}
<main class="relative px-6 py-10">
  {% include 'partials/main/gradient.html.twig' %}
  <div class="relative mx-auto max-w-7xl">
    {# En-tÃªte #}
    <header class="mb-8 flex flex-col gap-5 sm:flex-row sm:items-end sm:justify-between">
      <div class="group flex items-center gap-4">
        {% include 'partials/main/viewLogo.html.twig' %}
        <div>
          <h1 class="font-beaufort text-4xl tracking-wide text-transparent bg-clip-text bg-gradient-to-r from-blue-100 via-blue-300 to-blue-100 brand-title">
            Summoner Spells
          </h1>
          <p class="font-spiegel text-blue-200/80 mt-1">
            <span class="align-middle">Summoner Spells Catalog</span>
            <span class="ml-2 text-sm inline-block rounded-full border border-grey-700 bg-blue-950 px-2 py-0.5">
              {{ summoners|length }} items
            </span>
          </p>
        </div>
      </div>
      {% include 'partials/main/actionBarre.html.twig' %}
    </header>

    {# Grille #}
    <article class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
      {% for s in summoners %}
        {% set id    = s.id|default('') %}
        {% set name  = s.name|default('') %}
        {% set lvl   = s.summonerLevel|default(0) %}
        {% set cd    = s.cooldownBurn is defined and s.cooldownBurn ? s.cooldownBurn : (s.cooldown|default([])|join('/')) %}
        {% set cost  = s.costBurn is defined and s.costBurn ? s.costBurn : (s.cost|default([])|join('/')) %}
        {% set modes = s.modes is defined and s.modes is iterable ? s.modes : [] %}
        {% set desc  = s.description is defined ? s.description : (s.tooltip|default('')) %}
        {% set imgPath = images[id]|default(null) %}

        {% include 'summoner/partials/card.html.twig' %}
      {% else %}
        {% include 'summoner/partials/noResult.html.twig' %}
      {% endfor %}
    </article>
  </div>
  {% include 'partials/pagination.html.twig' %}
</main>
<script type="module" data-reload>
  import initAddonScript from '{{ asset("js/ajaxSummoner.js") }}';
  initAddonScript();
</script>
{% endblock %}
