{% extends 'base.html.twig' %}

{% block title %}Runes - {{ meta.currentPage }}/{{ meta.nombrePage }}{% endblock %}
{% block meta_description %}
  Découvrez la liste complète des runes de League of Legends ({{ meta.totalItem }} au total),
  organisées par arbre pour le patch {{ client.session.version ?? (client.versions|first) }}.
{% endblock %}
{% block img %}/preview/runes.png{% endblock %}

{% block body %}
<main class="relative px-6 py-10">
  {% include 'partials/main/gradient.html.twig' %}

  <div class="relative mx-auto max-w-7xl">
    <header class="mb-8 flex flex-col gap-5 sm:flex-row sm:items-end sm:justify-between">
      <div class="group flex items-center gap-4">
        {% include 'partials/main/viewLogo.html.twig' %}
        <div>
          <h1 class="font-beaufort text-4xl tracking-wide text-transparent bg-clip-text bg-gradient-to-r from-blue-100 via-blue-300 to-blue-100 brand-title">
            {{ 'rune.list.title'|trans }}
          </h1>
          <p class="font-spiegel text-blue-200/80 mt-1">
            <span class="align-middle">{{ 'rune.list.subtitle'|trans }}</span>
            <span class="ml-2 text-sm inline-block rounded-full border border-grey-700 bg-blue-950 px-2 py-0.5">
              {{ meta.totalItem }} runes
            </span>
          </p>
        </div>
      </div>

      {% include 'partials/main/actionBarre.html.twig' %}
    </header>

    {# === Grille des arbres de runes === #}
    <article class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
      {% for runeTree in runesReforgeds %}
        {% set key = runeTree.key %}
        {% set name = runeTree.name %}
        {% set iconPath = images[key].icon ?? null %}
        {% include 'rune/partials/card.html.twig' with {
          'runeTree': runeTree,
          'iconPath': iconPath
        } %}
      {% else %}
        {% include 'rune/partials/noResult.html.twig' %}
      {% endfor %}
    </article>
  </div>

  {% include 'partials/pagination.html.twig' with {
    currentPage: meta.currentPage,
    totalPages: meta.nombrePage,
    itemPerPage: meta.itemPerPage,
    totalItems: meta.totalItem,
    type: meta.type
  } %}
</main>
{% endblock %}
